# Unbind default split keys
unbind '"'
unbind %

# Rebind with more ergonomic keys
bind - split-window -v # Horizontal split (top/bottom)
bind | split-window -h # Vertical split (left/right)

# Relaod Config
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# Allow clipboard copy
set -g set-clipboard on

# Easy pane navigation
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

# Mouse resize panes
set -g mouse on

# Allow Shift+Enter to pass through (for Claude Code newline input)
set -s extended-keys on
set -as terminal-features 'xterm*:extkeys'
set -as terminal-features 'tmux*:extkeys'

# Scrollback buffer
set -g history-limit 10000

# Use vim keybindings in copy mode
setw -g mode-keys vi

# Update default binding of `Enter` to also use copy-pipe
unbind -T copy-mode-vi Enter
bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy" # Use "xclip" or "xsel" if on Linux

# ----- Tokyo Night color scheme -----
# bg_dark=#16161e  fg=#c0caf5  fg_dark=#a9b1d6
# blue=#7aa2f7  dark3=#545c7e  bg_highlight=#292e42
# fg_gutter=#3b4261  purple=#9d7cd8  green=#9ece6a

# ----- Base status bar -----
set -g status on
set -g status-interval 5
set -g status-bg "#16161e"
set -g status-fg "#a9b1d6"
set -g status-justify centre

# Left: session name + host
set -g status-left-length 40
set -g status-left '#[fg=#c0caf5,bg=#292e42,bold] #S #[fg=#292e42,bg=#16161e,nobold] #[fg=#a9b1d6]#H '

# Right: time/date
set -g status-right-length 120
set -g status-right '#[fg=#545c7e]%Y-%m-%d #[fg=#545c7e]| %H:%M '

# Window tabs
set -g window-status-format ' #[fg=#545c7e]#I:#W '
set -g window-status-current-format '#[fg=#7aa2f7,bg=#292e42,bold] #I:#W #[fg=#292e42,bg=#16161e,nobold]'

set -g window-status-style "fg=#545c7e,bg=#16161e"
set -g window-status-current-style "fg=#7aa2f7,bg=#292e42,bold"

# Pane borders
set -g pane-border-style "fg=#7aa2f7"
set -g pane-active-border-style "fg=#7aa2f7"

# Messages / prompts
set -g message-style "fg=#c0caf5,bg=#292e42,bold"

# Copy mode
setw -g mode-style "fg=#c0caf5,bg=#292e42"

# Clock & command style
set -g clock-mode-colour "#7aa2f7"
